
<div class="row">
  <div class="col-lg-12">
    <h1>Venta <small></small></h1>
    <ol class="breadcrumb">
      <li><a href="/"><i class="fa fa-dashboard"></i> Dashboard</a></li>
      <li class="active"><i class="fa fa-table"></i> Venta</li>
    </ol>

  </div>
</div><!-- /.row -->

<div class="row">
  <div class="col-lg-12">
      <h2>BÃºsqueda</h2>
        <div class="form-group input-group">
          <input v-model="searchFld"  type="text" class="form-control" v-on:keyup.enter="caja_search">
          <span class="input-group-btn">
            <button v-on:click="caja_search" class="btn btn-default" type="button"><i class="fa fa-search"></i></button>
          </span>
        </div>
  </div>
</div><!-- /.row -->


<div class="row results" >
          <div v-for="item in inventario" class="col-lg-3">
            <div class="panel panel-success">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-12 text-right">
                    <p class="announcement-heading">{{item.quantity}}</p>
                    <p class="announcement-text">{{item.name}}</p>
                    {{item.price | currency }} {{item.des}}
                  </div>
                </div>
              </div>
              <a href="#">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-12">
                      <button v-on:click="caja_add(item)" type="button" class="btn btn-primary btn-lg btn-block">Agregar</button>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>

          <div class="col-lg-3" :class="{ hidden: inventario.length > 0 }">
            <div class="panel panel-warning">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-12 text-right">
                    <p class="announcement-heading"> </p>
                    <p class="announcement-text">Producto no encontrado ----------------- </p>
                    n/a
                  </div>
                </div>
              </div>
              <a href="#">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-12">
                      <button v-on:click="prod_no_encontrado = true" type="button" class="btn btn-primary btn-lg btn-block">Agregar</button>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
          <!-- <div class="col-lg-3">
            <div class="panel panel-danger">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-6">
                    <i class="fa fa-tasks fa-5x"></i>
                  </div>
                  <div class="col-xs-6 text-right">
                    <p class="announcement-heading">18</p>
                    <p class="announcement-text">Crawl Errors</p>
                  </div>
                </div>
              </div>
              <a href="#">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-6">
                      Fix Issues
                    </div>
                    <div class="col-xs-6 text-right">
                      <i class="fa fa-arrow-circle-right"></i>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="panel panel-success">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-6">
                    <i class="fa fa-comments fa-5x"></i>
                  </div>
                  <div class="col-xs-6 text-right">
                    <p class="announcement-heading">56</p>
                    <p class="announcement-text">New Orders!</p>
                  </div>
                </div>
              </div>
              <a href="#">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-6">
                      Complete Orders
                    </div>
                    <div class="col-xs-6 text-right">
                      <i class="fa fa-arrow-circle-right"></i>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div> -->

        </div>

<div class="row" :class="{ hidden: !prod_no_encontrado}">
  <div class="col-lg-12" >
    <h2>Nuevo Producto</h2>
  </div>
  <div class="col-lg-3">
      <div class="form-group">
          <label>Nombre</label>
          <input type="text" v-model="nitem.name" class="form-control">
          <!-- <p class="help-block">Example block-level help text here.</p> -->
      </div>
  </div>
  <div class="col-lg-2">
      <div class="form-group">
          <label>Talla</label>
          <input type="text" v-model="nitem.talla" class="form-control">
      </div>
  </div>
  <div class="col-lg-2">
      <div class="form-group">
          <label>Color</label>
          <input type="text" v-model="nitem.color" class="form-control">
      </div>
  </div>
  <div class="col-lg-2">
      <div class="form-group">
          <label>Precio</label>
          <input type="text" v-model="nitem.price" class="form-control">
      </div>
  </div>
  <div class="col-lg-2">
      <div class="form-group">
          <button v-on:click="add_new()" class="btn btn-lg btn-primary" type="button"> Agregar  </button>
      </div>
  </div>
</div><!-- /.row -->
<div class="row ">
  <div class="col-lg-12">
    <h2>Articulos</h2>
    <div class="table-responsive cart">
      <table class="table table-bordered table-hover table-striped tablesorter">
        <thead>
          <tr>
            <th class="header">Codigo <i class="fa fa-sort"></i></th>
            <th class="header">Nombre <i class="fa fa-sort"></i></th>
            <th class="header">Talla. <i class="fa fa-sort"></i></th>
            <th class="header">Color. <i class="fa fa-sort"></i></th>
            <th class="header">Cantidad <i class="fa fa-sort"></i></th>
            <th class="header">Un. <i class="fa fa-sort"></i></th>
            <th class="header">P/U. <i class="fa fa-sort"></i></th>
            <th class="header">Descuento <i class="fa fa-sort"></i></th>
            <th class="header">Importe <i class="fa fa-sort"></i></th>
            <th class="header">Opciones </th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(item, key) in cart" >
            <td>{{item.codigo}}</td>
            <td>{{item.nombre}}</td>
            <td> <input type="text" v-model="item.talla" /> </td>
            <td> <input type="text" v-model="item.color" /> </td>
            <td> <input type="text" v-model="item.cantidad" @change="chngImporte(key)"/> </td>
            <td>{{item.unidad}}</td>
            <td>{{item.p_u | currency}}</td>
            <td> <input type="text" v-model="item.discount" @change="chngImporte(key)"/> </td>
            <td>{{item.importe | currency}}</td>
            <td> <button v-on:click="caja_rm(key)" type="button" class="btn btn-danger">Quitar</button> </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div><!-- /.row -->

<div class="row ">
  <div class="col-lg-6">
      <h2 class="text-right" > a pagar </h2>
  </div>
  <div class="col-lg-6">
      <h2 class="text-left" > {{a_pagar | currency}} </h2>
  </div>
</div><!-- /.row -->
<div class="row ">
    <div class="col-lg-6">
        <h2 class="text-right" > pago </h2>
    </div>
    <div class="col-lg-2 pagar">
        <div class="form-inline">
            <div class="form-group">
                <label class="sr-only" for="exampleInputAmount">Amount (in dollars)</label>
                <div class="input-group">
                    <div class="input-group-addon">$</div>
                    <input type="text" class="form-control input-lg" placeholder="0.00" v-model="pago">
                </div>
            </div>
      </div>
    </div>
    <div class="col-lg-4 text-left pagar-btn">
      <button v-on:click="caja_pagar_c_ticket" type="button" class="btn btn-lg btn-primary">Pagar</button>
      <button v-on:click="caja_pagar_s_ticket" type="button" class="btn btn-lg btn-primary"> Pagar S/T </button>
    </div>
</div><!-- /.row -->


<!-- Modal -->
<div class="modal fade" id="modalPago" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
          <div class="row ">
            <div class="col-lg-6">
                <h2 class="text-right" > cambio </h2>
            </div>
            <div class="col-lg-6">
                <h2 class="text-left" > {{cambio | currency}} </h2>
            </div>
          </div><!-- /.row -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" v-on:click="caja_limpiar"> Aceptar </button>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="modalPagoError" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
          <div class="row ">
            <div class="col-lg-12">
                <h2 class="text-center" > No se puede cerrar la venta </h2>
            </div>
          </div><!-- /.row -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
